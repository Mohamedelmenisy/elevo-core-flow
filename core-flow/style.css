/* CSS Variables for Theming (Dark Mode by Default) */
:root {
    --primary-color: #007bff;
    --primary-hover-color: #0056b3;
    --secondary-color: #6c757d;
    --secondary-hover-color: #545b62;
    --accent-color: #17a2b8;
    --success-color: #28a745;
    --danger-color: #dc3545;
    --danger-hover-color: #c82333;
    --warning-color: #ffc107;

    /* Dark Mode Variables as Defaults */
    --bg-color: #1a202c;
    --text-color: #e2e8f0;
    --text-color-light: #a0aec0;
    --text-color-subtle: #718096;
    --card-bg-color: #2d3748;
    --header-bg: #2d3748;
    --header-text-color: #e2e8f0;
    --header-border-color: #4a5568;
    --border-color: #4a5568;
    --icon-color: #a0aec0;
    --button-secondary-bg: #4a5568;
    --button-secondary-text: #e2e8f0;
    --button-secondary-border: #718096;
    --timer-text-color: var(--danger-color); /* Was danger, maybe make accent? */
    --timer-text-color: var(--accent-color); /* Changed to accent */


    --font-family-main: 'Poppins', 'Roboto', 'Segoe UI', sans-serif;
    --border-radius-sm: 0.2rem;
    --border-radius-md: 0.375rem;
    --border-radius-lg: 0.5rem;

    --shadow-sm: 0 .125rem .25rem rgba(0,0,0,.25);
    --shadow-md: 0 .5rem 1rem rgba(0,0,0,.3);
    --shadow-lg: 0 1rem 3rem rgba(0,0,0,.35);

    --transition-speed: 0.2s;
    --transition-speed-fast: 0.15s;
    --transition-speed-slow: 0.4s;
}

/* Global Resets and Base Styles */
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: var(--font-family-main); background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; overflow-x: hidden; } /* Added overflow-x: hidden */
html { scroll-behavior: smooth; }

.app-container { width: 100%; min-height: 100vh; display: flex; flex-direction: column; background-color: var(--bg-color); overflow-x: hidden; }

/* Header Styles (Mostly Unchanged) */
.app-header { background: var(--header-bg); color: var(--header-text-color); padding: 0.8rem 1.5rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--header-border-color); box-shadow: var(--shadow-sm); position: sticky; top: 0; z-index: 1000; transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease; }
.logo-container { display: flex; align-items: center; margin-right: 1.5rem; }
.company-logo { height: 28px; width: 28px; margin-right: 0.6rem; color: var(--primary-color); }
.app-title { font-size: 1.3em; font-weight: 600; color: var(--header-text-color); }
.header-controls { display: flex; align-items: center; gap: 1rem; }
.nav-link { padding: 0.6rem 1rem; text-decoration: none; color: var(--text-color-light); border-radius: var(--border-radius-md); font-weight: 500; transition: background-color var(--transition-speed-fast) ease, color var(--transition-speed-fast) ease; border: 1px solid transparent; }
.nav-link:hover { background-color: var(--button-secondary-bg); color: var(--text-color); }
.nav-link.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color); font-weight: 600; }
.user-info { display: flex; align-items: center; }
.user-name-display { margin-right: 1rem; font-weight: 500; color: var(--header-text-color); }
.logout-btn { background-color: var(--button-secondary-bg); color: var(--button-secondary-text); border: 1px solid var(--button-secondary-border); padding: 0.5rem 0.8rem; border-radius: var(--border-radius-md); cursor: pointer; font-size: 0.9em; font-weight: 500; transition: all var(--transition-speed-fast) ease; display: inline-flex; align-items: center; }
.logout-btn svg { margin-right: 0.3rem; }
.logout-btn:hover { background-color: var(--danger-color); color: white; border-color: var(--danger-color); }

/* Status Bar Styles (Added more specific status colors/classes) */
.status-bar { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 1.5rem; background-color: var(--card-bg-color); border-bottom: 1px solid var(--border-color); font-size: 0.9em; box-shadow: var(--shadow-sm); transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease; gap: 1rem; flex-wrap: nowrap; }
.status-indicator { font-weight: 500; padding: 0.3rem 0.6rem; border-radius: var(--border-radius-md); transition: background-color 0.3s ease, color 0.3s ease; white-space: nowrap; flex-shrink: 0; }
.status-waiting { color: #f6ad55; background-color: rgba(246, 173, 85, 0.15); } /* Orange */
.status-loading { color: #4299e1; background-color: rgba(66, 153, 225, 0.15); } /* Blue */
.status-in-call { color: #48bb78; background-color: rgba(72, 187, 120, 0.15); } /* Green */
.status-completed { color: #38b2ac; background-color: rgba(56, 178, 172, 0.15); } /* Teal */
.status-ended { color: #a0aec0; background-color: rgba(160, 174, 192, 0.15); } /* Gray */
.status-summary { color: #9f7aea; background-color: rgba(159, 122, 234, 0.15); } /* Purple */
.status-error { color: #f56565; background-color: rgba(245, 101, 101, 0.15); } /* Red */
.call-timer { font-weight: 600; color: var(--timer-text-color); display: none; white-space: nowrap; font-size: 1em; padding: 0.2rem 0.5rem; border-radius: var(--border-radius-sm); flex-grow: 1; text-align: right; /* Align timer to the right */ }

/* Progress Tracker / Stepper Styles (IMPROVED) */
.progress-tracker-container { padding: 0; /* Removed padding here */ background-color: var(--card-bg-color); border-bottom: 1px solid var(--border-color); margin-bottom: 1.5rem; overflow-x: auto; white-space: nowrap; box-shadow: var(--shadow-sm); transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease; display: none; /* Initially hidden */ }
.stepper-wrapper { display: flex; /* Use flex for wrapper */ justify-content: center; /* Center the stepper */ padding: 1rem 1.5rem; /* Add padding inside wrapper */ }
.stepper { display: flex; list-style: none; padding: 0; margin: 0; align-items: center; }
.step { display: flex; flex-direction: column; align-items: center; text-align: center; color: var(--text-color-subtle); transition: all var(--transition-speed_slow) ease; position: relative; /* For pseudo-elements */ }
.step-number { width: 32px; height: 32px; border-radius: 50%; background-color: var(--button-secondary-bg); border: 2px solid var(--border-color); color: var(--text-color-light); display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9em; margin-bottom: 0.4rem; transition: all var(--transition-speed) ease; z-index: 2; }
.step-title { font-size: 0.8em; font-weight: 500; color: var(--text-color-light); max-width: 80px; white-space: normal; line-height: 1.2; display: none; /* Hide titles by default, too cluttered */ }
/* Separator Line */
.step-separator { height: 2px; background-color: var(--border-color); flex-grow: 1; min-width: 30px; /* Minimum length */ margin: 0 0.5rem; /* Spacing around line */ align-self: center; /* Vertically center with numbers */ margin-top: -18px; /* Align with middle of number */ transition: background-color var(--transition-speed) ease; z-index: 1; }
/* Active State */
.step.active .step-number { background-color: var(--primary-color); border-color: var(--primary-color); color: white; transform: scale(1.1); }
.step.active .step-title { color: var(--primary-color); font-weight: 600; }
/* Completed State */
.step.completed .step-number { background-color: var(--success-color); border-color: var(--success-color); color: white; }
.step.completed .step-title { color: var(--success-color); }
.step.completed + .step-separator { background-color: var(--success-color); /* Line after completed step turns green */ }

/* Main Content Area */
.app-main { flex-grow: 1; padding: 1.5rem; display: flex; flex-direction: column; justify-content: flex-start; /* Changed from center */ align-items: center; width: 100%; }

/* Card Styles (Added scenario selector styles) */
.card { background-color: var(--card-bg-color); padding: 2rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); text-align: center; width: 100%; max-width: 800px; transition: background-color var(--transition-speed) ease, opacity 0.3s ease, transform 0.3s ease; margin: 1rem auto; /* Use margin for spacing */ }
.initial-card { /* Styles specific to initial view card */ }
.initial-card .card-icon { color: var(--primary-color); margin-bottom: 1rem; }
.initial-card .card-icon svg { width: 56px; height: 56px; }
.card-title { color: var(--text-color); margin-bottom: 0.75rem; font-size: 1.6em; font-weight: 600; }
.scenario-title-dynamic { font-size: 1.5em; margin-bottom: 1.25rem; }
.card-subtitle { color: var(--text-color-light); margin-bottom: 1.5rem; font-size: 1em; }
/* Scenario Selector Styles */
.scenario-selector-container { margin: 1.5rem 0; text-align: left; max-width: 400px; /* Limit width */ margin-left: auto; margin-right: auto; }
.scenario-selector-container label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-color-light); font-size: 0.9em; }
.scenario-dropdown { width: 100%; padding: 0.75rem; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); background-color: var(--bg-color); color: var(--text-color); font-size: 1em; cursor: pointer; transition: border-color var(--transition-speed-fast) ease; }
.scenario-dropdown:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25); }
.scenario-dropdown:disabled { opacity: 0.6; cursor: not-allowed; }

/* Post Call Summary Card Styles */
.post-call-summary-card { text-align: left; max-width: 700px; }
#callSummaryContent p, #callSummaryContent li { margin-bottom: 0.75rem; font-size: 0.95em; line-height: 1.6; color: var(--text-color-light); } /* Lighter text for details */
#callSummaryContent strong { font-weight: 600; color: var(--text-color); }
#callSummaryContent ul { padding-left: 1.5rem; list-style-type: none; /* Changed from disc */ }
#callSummaryContent ul li::before { /* Custom bullet */ content: "•"; color: var(--primary-color); font-weight: bold; display: inline-block; width: 1em; margin-left: -1em; }
.quality-text { font-weight: bold; display: inline-flex; align-items: center; gap: 0.4rem; }
.quality-good { color: var(--success-color); }
.quality-bad { color: var(--danger-color); }
.quality-normal { color: var(--warning-color); }
.quality-na { color: var(--text-color-subtle); } /* For N/A */


/* Button Styles */
.action-button, .nav-button { border: none; padding: 0.75rem 1.5rem; border-radius: var(--border-radius-md); font-size: 1em; font-weight: 500; cursor: pointer; transition: all var(--transition-speed-fast) ease; display: inline-flex; align-items: center; justify-content: center; text-decoration: none; gap: 0.5rem; }
.action-button:hover:not(:disabled), .nav-button:hover:not(:disabled) { transform: translateY(-2px); box-shadow: var(--shadow-sm); }
.action-button:disabled, .nav-button:disabled { opacity: 0.6; cursor: not-allowed; transform: none; box-shadow: none; }
.primary-button { background-color: var(--primary-color); color: white; }
.primary-button:hover:not(:disabled) { background-color: var(--primary-hover-color); }
.secondary-button { background-color: var(--button-secondary-bg); color: var(--button-secondary-text); border: 1px solid var(--button-secondary-border); }
.secondary-button:hover:not(:disabled) { background-color: var(--secondary-hover-color); color: white; border-color: var(--secondary-hover-color); }
.danger-button { background-color: var(--danger-color); color: white; }
.danger-button:hover:not(:disabled) { background-color: var(--danger-hover-color); }

/* Call Flow Specific Styles */
.steps-area { background-color: var(--bg-color); border: 1px solid var(--border-color); border-radius: var(--border-radius-md); padding: 1.5rem; margin-top: 1.5rem; margin-bottom: 1.75rem; min-height: 150px; text-align: left; transition: background-color var(--transition-speed) ease, border-color var(--transition-speed) ease; }
.steps-area p { font-size: 1.1em; color: var(--text-color); margin-bottom: 0; /* Remove default margin */ padding: 1rem; border-radius: var(--border-radius-md); background-color: var(--card-bg-color); /* Use card bg for contrast */ border-left: 4px solid var(--accent-color); transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease, border-color var(--transition-speed) ease; box-shadow: var(--shadow-sm); }
.steps-area .placeholder-text { color: var(--text-color-subtle); font-style: italic; background-color: transparent; border-left: none; box-shadow: none; text-align: center; padding: 2rem 1rem; }
.navigation-buttons { display: flex; justify-content: space-between; align-items: center; width: 100%; margin-bottom: 1rem; gap: 1rem; }
.navigation-buttons .nav-button { flex-grow: 1; }
#end-call-btn { width: 100%; margin-top: 0.5rem; /* Reduced top margin */ }

/* Assistant Box Styles (Using Slide Animation) */
.assistant-box { position: fixed; /* Changed from fixed to maybe relative if needed */ bottom: 20px; /* Position at bottom */ right: 20px; background-color: var(--accent-color); color: white; padding: 0.9rem 1.2rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); display: flex; align-items: center; z-index: 1001; /* opacity: 0; */ /* Let animation handle visibility */ transform: translateX(110%); /* Start off-screen right */ visibility: hidden; transition: transform var(--transition-speed-slow) cubic-bezier(0.25, 0.8, 0.25, 1), visibility 0s var(--transition-speed-slow); max-width: 320px; overflow: hidden; }
.assistant-box.show { transform: translateX(0); visibility: visible; transition-delay: 0s; }
.assistant-icon { font-size: 1.3em; margin-right: 0.8rem; flex-shrink: 0; animation: pulseIcon 2s infinite ease-in-out; }
@keyframes pulseIcon { 0%, 100% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.15); opacity: 1; } }
.assistant-box p#assistantMessageElement { font-size: 0.95em; line-height: 1.5; margin: 0; white-space: normal; overflow: hidden; }

/* Footer Styles */
.app-footer { background-color: var(--header-bg); color: var(--text-color-light); text-align: center; padding: 1rem; font-size: 0.875em; border-top: 1px solid var(--border-color); transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease, border-color var(--transition-speed) ease; margin-top: auto; /* Push footer down */ }

/* Loading Container and Spinner */
.loading-container { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem; color: var(--text-color-light); width: 100%; flex-grow: 1; /* Take up space */ }
.spinner { border: 5px solid rgba(128, 128, 128, 0.2); width: 40px; height: 40px; border-radius: 50%; border-left-color: var(--primary-color); margin-bottom: 1rem; animation: spin 0.8s linear infinite; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

/* Simple Animation Classes */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.fade-in { animation: fadeIn var(--transition-speed-slow) ease-out forwards; }

@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
.slide-in-right { animation: slideInRight var(--transition-speed-slow) cubic-bezier(0.25, 0.8, 0.25, 1) forwards; }


/* ================================================================== */
/* Specific Styles for Dashboard (INLINED CSS from dashboard.html)    */
/* ================================================================== */
/* These styles are mostly copied from the dashboard.html <style> block */
/* Ensure consistency and resolve any conflicts if needed. */

.dashboard-main { justify-content: flex-start; align-items: stretch; gap: 1.5rem; padding: 1.5rem; }
.dashboard-header { text-align: left; margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border-color); }
.greeting-section { display: flex; align-items: center; gap: 1.25rem; }
.user-avatar-char-dashboard { width: 64px; height: 64px; border-radius: 50%; border: 3px solid var(--primary-color); background-color: var(--button-secondary-bg); display: flex; align-items: center; justify-content: center; color: var(--primary-color); font-weight: bold; font-size: 1.8em; }
#dashboardUserGreeting { font-size: 2em; font-weight: 600; color: var(--text-color); margin-bottom: 0.15em; line-height: 1.2; }
#dashboardUserSubtext { font-size: 1.05em; color: var(--text-color-light); }

.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
.stat-card { background-color: var(--card-bg-color); padding: 1.5rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-md); text-align: left; transition: transform var(--transition-speed-fast) ease-in-out, box-shadow var(--transition-speed-fast) ease-in-out; border-left: 4px solid transparent; }
.stat-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-lg); }
.stat-card:nth-child(4n+1) { border-left-color: var(--primary-color); }
.stat-card:nth-child(4n+2) { border-left-color: var(--success-color); }
.stat-card:nth-child(4n+3) { border-left-color: var(--warning-color); }
.stat-card:nth-child(4n+4) { border-left-color: var(--accent-color); }
.stat-card h3 { font-size: 0.9em; color: var(--text-color-light); margin-bottom: 0.75rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; }
.stat-card p { font-size: 2.2em; font-weight: 700; color: var(--text-color); margin-bottom: 0.25rem; }
.stat-card:nth-child(4n+1) p { color: var(--primary-color); }
.stat-card .stat-period { font-size: 0.8em; color: var(--text-color-subtle); }

.quality-gauge { text-align: center; margin-top: 0.5rem; }
.gauge-bar-container { display: flex; width: 100%; height: 12px; border-radius: var(--border-radius-md); overflow: hidden; margin-bottom: 0.5rem; background-color: var(--button-secondary-bg); }
.gauge-segment { height: 100%; transition: width 0.5s ease-in-out; }
.gauge-segment.good { background-color: var(--success-color); }
.gauge-segment.normal { background-color: var(--warning-color); }
.gauge-segment.bad { background-color: var(--danger-color); }
.quality-gauge span#avgQualityText { display: block; font-size: 0.9em; color: var(--text-color-light); font-weight: 500; margin-top: 0.5rem; }

.recent-activity-section.card { text-align: left; padding: 1.5rem; width: 100%; max-width: 1200px; margin-left: auto; margin-right: auto; margin-top: 0; }
.recent-activity-section h2 { font-size: 1.5em; margin-bottom: 1.2rem; font-weight: 600;}
.table-responsive { width: 100%; overflow-x: auto; }
#recentCallsTable { width: 100%; border-collapse: collapse; font-size: 0.9em; }
#recentCallsTable th, #recentCallsTable td { padding: 0.85rem 1rem; text-align: left; border-bottom: 1px solid var(--border-color); white-space: nowrap; vertical-align: middle; }
#recentCallsTable th { background-color: var(--header-bg); font-weight: 600; color: var(--text-color); text-transform: uppercase; letter-spacing: 0.5px; position: sticky; top: 0; z-index: 10; }
#recentCallsTable tbody tr:nth-child(even) { background-color: rgba(255,255,255,0.03); }
#recentCallsTable tbody tr:hover { background-color: var(--button-secondary-bg); }
/* Placeholder styling for the table row */
#recentCallsTable .placeholder-row td { text-align: center; color: var(--text-color-subtle); font-style: italic; padding: 2.5rem; background-color: transparent !important; font-size: 1em; }
#recentCallsTable .placeholder-row svg { display: block; margin: 0 auto 0.5rem auto; } /* Center SVG */
/* Quality Cell Styling */
#recentCallsTable td.quality-cell { display: flex; align-items: center; gap: 0.5rem; font-weight: 500; } /* Added font-weight */
.quality-icon { width: 16px; height: 16px; flex-shrink: 0; }
/* Assign color based on parent cell class or direct icon class */
.quality-cell .quality-icon.good { color: var(--success-color); }
.quality-cell .quality-icon.normal { color: var(--warning-color); }
.quality-cell .quality-icon.bad { color: var(--danger-color); }
.quality-cell .quality-icon.na { color: var(--text-color-subtle); }


/* Filter Controls Card */
.filter-controls.card { text-align: left; padding: 1.5rem; width: 100%; max-width: 1200px; margin-left: auto; margin-right: auto; margin-bottom: 1.5rem; }
.filter-controls h3 { margin-bottom: 1rem; font-size: 1.2em; font-weight: 600; }
.filter-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; align-items: end; }
.filter-grid > div { display: flex; flex-direction: column; }
.filter-grid label { display: block; margin-bottom: 0.5rem; font-weight: 500; color: var(--text-color-light); font-size: 0.9em; }
.filter-grid input[type="text"], .filter-grid input[type="date"], .filter-grid select { width: 100%; padding: 0.75rem; border-radius: var(--border-radius-md); border: 1px solid var(--border-color); background-color: var(--bg-color); color: var(--text-color); font-size: 0.95em; box-shadow: none; transition: border-color var(--transition-speed-fast) ease; }
.filter-grid input:focus, .filter-grid select:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25); }
.filter-grid input[type="date"] { color-scheme: dark; }
.filter-grid .action-button { padding: 0.75rem 1.2rem; height: auto; }
.filter-buttons-group { display: flex; gap: 0.75rem; align-items: flex-end; grid-column: span 1; }
/* #applyFiltersBtn { display: none; } Hide apply button if using auto-apply */


/* Access Denied Modal Styles */
#accessDeniedModal { display: none; position: fixed; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center; }
.access-denied-content { background-color: var(--card-bg-color); padding: 2rem 2.5rem; border-radius: var(--border-radius-lg); box-shadow: var(--shadow-lg); text-align: center; max-width: 480px; width: 90%; }
.access-denied-content svg { margin-bottom: 1.25rem; stroke-width: 1.5; }
.access-denied-content h3 { color: var(--text-color); font-size: 1.7em; margin-bottom: 1rem; }
.access-denied-content p { color: var(--text-color-light); margin-bottom: 1.75rem; font-size: 1.05em; }

/* =============================================== */
/* =========== RESPONSIVE ADJUSTMENTS ============ */
/* =============================================== */
@media (max-width: 1200px) {
    /* General */
    .app-header { flex-wrap: wrap; gap: 0.5rem; } /* Allow wrapping */
    .header-controls { margin-left: auto; } /* Push controls right on wrap */
    .app-main { padding: 1.5rem; }
    .card { padding: 1.5rem; max-width: 95%; }
    .app-title { font-size: 1.2em; }

    /* Dashboard specific */
    .dashboard-main { padding: 1.5rem; }
    .stats-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.25rem; }
    .recent-activity-section.card, .filter-controls.card { max-width: 100%; }
}

@media (max-width: 992px) {
    /* Dashboard specific */
    .stats-grid { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
    #dashboardUserGreeting { font-size: 1.7em; }
    .stat-card p { font-size: 2em; }
    .recent-activity-section h2 { font-size: 1.4em; }
    .filter-grid { grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
}

@media (max-width: 768px) {
    /* General */
    .app-header { padding: 0.7rem 1rem; flex-direction: row; /* Back to row for smaller */ flex-wrap: wrap; justify-content: space-between; }
    .logo-container { margin-bottom: 0; flex-grow: 1; /* Allow logo to take space */ }
    .header-controls { width: auto; /* Don't force full width */ order: 3; /* Adjust order if needed */ }
    .nav-link { padding: 0.5rem 0.8rem; font-size: 0.9em;} /* Smaller nav links */


    .status-bar { padding: 0.6rem 1rem; font-size: 0.85em; flex-wrap: wrap; justify-content: center; gap: 0.5rem 1rem; /* Row and column gap */ }
    .status-indicator { order: 1; }
    .call-timer { order: 2; flex-basis: auto; /* Don't force full width */ text-align: right; margin-top: 0; padding: 0.3rem 0.6rem; }

    .app-main { padding: 1rem; }
    .card { padding: 1.2rem; max-width: 100%; border-radius: var(--border-radius-md); }
    .card-title { font-size: 1.4em; }
    .navigation-buttons { flex-direction: column; gap: 0.75rem; }
    .nav-button { width: 100%; }

    .assistant-box { width: calc(100% - 20px); max-width: none; right: 10px; left: 10px; bottom: 10px; transform: translateY(110%); /* Use translateY for bottom slide */ }
    .assistant-box.show { transform: translateY(0); }

    /* Progress Tracker on mobile */
    .stepper-wrapper { justify-content: flex-start; /* Align left */ } /* Allow scrolling */
    .step-title { display: none; } /* Ensure titles hidden */
    .step-separator { min-width: 20px; margin: 0 0.3rem; }

    /* Dashboard specific */
    .dashboard-main { padding: 1rem; }
    .stats-grid { grid-template-columns: 1fr; }
    .greeting-section { flex-direction: row; /* Keep row layout */ align-items: center; }
    .user-avatar-char-dashboard { width: 56px; height: 56px; margin-bottom: 0; margin-right: 1rem; }
    #dashboardUserGreeting { font-size: 1.5em; }
    #dashboardUserSubtext { font-size: 0.95em; }
    .recent-activity-section.card, .filter-controls.card { padding: 1.2rem; max-width: 100%; }
    .recent-activity-section h2, .filter-controls h3 { font-size: 1.3em; }
    #recentCallsTable { font-size: 0.85em; }
    #recentCallsTable th, #recentCallsTable td { padding: 0.7rem 0.6rem; } /* Reduce padding */
    .filter-grid { grid-template-columns: 1fr; }
    .filter-buttons-group { flex-direction: column; width: 100%; margin-top: 1rem; align-items: stretch; }
    .filter-buttons-group .action-button { width: 100%; margin-bottom: 0.5rem; }
    .filter-buttons-group .action-button:last-child { margin-bottom: 0; }
}

@media (max-width: 576px) {
    /* Dashboard specific */
    .dashboard-main { padding: 1rem 0.75rem; }
    .stat-card { padding: 1.2rem; }
    .stat-card p { font-size: 1.8em; }
    #recentCallsTable { font-size: 0.8em; }
    #recentCallsTable th, #recentCallsTable td { padding: 0.6rem 0.5rem; }
}

@media (max-width: 480px) {
    /* General */
    .app-title { font-size: 1.1em; }
    .user-name-display { display: none; } /* Hide user name */
    .logout-btn span { display: none; } /* Hide logout text */
    .logout-btn svg { margin-right: 0; }
    .logout-btn { padding: 0.4rem 0.6rem; } /* Smaller button */
    .card-title { font-size: 1.3em; }
    .status-bar, .progress-tracker-container { font-size: 0.8em; }
    .nav-link { padding: 0.4rem 0.6rem; font-size: 0.85em;}
    .action-button, .nav-button { font-size: 0.9em; padding: 0.6rem 1rem; }

    /* Dashboard specific */
    #dashboardUserGreeting { font-size: 1.3em; }
    .user-avatar-char-dashboard { width: 48px; height: 48px; font-size: 1.5em; }
}
