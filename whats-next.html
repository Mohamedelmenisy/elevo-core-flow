<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What's Next? - Coaching Strategy</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e67e22;
            --accent-color: #3498db;
            --light-bg: #f9f9f9;
            --text-color: #333;
            --white: #ffffff;
            --shadow: 0 2px 15px rgba(0,0,0,0.1);
            --error-color: #e74c3c;
            --success-color: #27ae60;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--light-bg);
            padding-top: 80px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .nav-tab {
            background-color: var(--primary-color);
            padding: 15px 10px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .nav-tab a {
            color: var(--white);
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 1rem;
            white-space: nowrap;
        }

        .nav-tab a:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .content-wrapper {
            background-color: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 40px;
        }
        
        .blue-text {
            color: #0066cc;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.3;
        }
        
        .orange-text {
            color: var(--secondary-color);
            font-size: 1.7rem;
            font-weight: 600;
            margin: 35px 0;
            text-align: center;
        }
        
        p {
            margin-bottom: 1.8rem;
            font-size: 1.15rem;
            line-height: 1.7;
            text-align: center;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .signature-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 60px;
        }

        .signature {
            text-align: center;
            margin-bottom: 40px;
            font-weight: bold;
        }
        
        .signature p {
            margin: 10px 0;
            font-size: 1.1rem;
        }
        
        .signature p:first-child {
            margin-bottom: 15px;
        }
        
        .italic {
            font-style: italic;
            color: #555;
        }
        
        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            gap: 20px;
        }
        
        .button {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--white);
            padding: 14px 28px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.15);
        }
        
        .button:hover {
            background-color: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* Authentication Modal Styles */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1001;
            justify-content: center;
            align-items: center;
        }
        .auth-content {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            max-width: 400px;
            width: 90%;
        }
        .auth-input {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .auth-button {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        .login-button {
            background-color: var(--primary-color);
            color: white;
        }
        .signup-button {
            background-color: var(--success-color);
            color: white;
        }
        .auth-error {
            color: var(--error-color);
            margin-top: 10px;
            text-align: center;
            display: none;
        }
        .auth-switch {
            text-align: center;
            margin-top: 15px;
        }
        .user-info {
            text-align: right;
            padding: 10px;
            color: white;
            background-color: var(--primary-color);
            position: fixed;
            top: 50px;
            right: 0;
            z-index: 999;
        }
        .logout-btn {
            color: white;
            text-decoration: underline;
            cursor: pointer;
            margin-left: 10px;
        }
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 8px;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            position: relative;
        }
        .modal-button {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
        }
        .close-modal {
            position: absolute;
            top: 10px;
            right: 10px;
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #777;
        }
        
        @media (max-width: 768px) {
            body {
                padding-top: 120px;
            }
            
            .nav-tab {
                padding: 10px 5px;
                gap: 5px;
            }
            
            .nav-tab a {
                padding: 6px 12px;
                font-size: 0.9rem;
            }
            
            .container {
                padding: 20px 15px;
            }
            
            .content-wrapper {
                padding: 30px 20px;
            }
            
            .blue-text {
                font-size: 1.8rem;
                margin-bottom: 20px;
            }
            
            .orange-text {
                font-size: 1.4rem;
                margin: 25px 0;
            }
            
            p {
                font-size: 1.05rem;
            }
            
            .button-container {
                flex-direction: column;
                align-items: center;
                gap: 15px;
                margin-top: 30px;
            }
            
            .button {
                width: 100%;
                max-width: 280px;
                padding: 12px 20px;
            }

            .signature-container {
                margin-top: 50px;
            }

            .signature {
                margin-bottom: 30px;
            }

            .user-info {
                top: 70px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .nav-tab a {
                font-size: 0.8rem;
                padding: 5px 8px;
            }
            
            .blue-text {
                font-size: 1.6rem;
            }
            
            .orange-text {
                font-size: 1.3rem;
            }
            
            .content-wrapper {
                padding: 25px 15px;
            }

            .signature p {
                font-size: 1rem;
            }

            .user-info {
                top: 65px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Authentication Modal -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <h2 id="authTitle">Login</h2>
            <form id="authForm">
                <div id="nameField" style="display: none;">
                    <input type="text" id="authName" class="auth-input" placeholder="Full Name">
                </div>
                <input type="email" id="authEmail" class="auth-input" placeholder="Email" required>
                <input type="password" id="authPassword" class="auth-input" placeholder="Password" required>
                <p id="authError" class="auth-error">Invalid credentials</p>
                <button type="submit" id="authSubmit" class="auth-button login-button">Login</button>
            </form>
            <div class="auth-switch">
                <span id="authSwitchText">Don't have an account?</span>
                <a href="#" id="authSwitchLink">Sign up</a>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">×</button>
            <h3>Course Completion</h3>
            <p>Congratulations on completing the Coaching Strategy course!</p>
            <p>Your progress has been saved. You can revisit any section at any time.</p>
            <button class="modal-button" onclick="closeModal()">CONTINUE</button>
        </div>
    </div>

    <!-- User Info Bar -->
    <div class="user-info">
        Welcome, <span id="displayUserEmail"></span>
        <span class="logout-btn" onclick="logout()">Logout</span>
    </div>

    <nav class="nav-tab">
        <a href="index.html">Home</a>
        <a href="article1.html">First Article</a>
        <a href="coaching-skills.html">Coaching Skills</a>
        <a href="coaching-individuals.html">Coaching Individuals</a>
        <a href="coaching-team.html">Team Coaching</a>
        <a href="coaching-yourself.html">Self Coaching</a>
        <a href="coaching-action-plan.html">Action Plan</a>
    </nav>

    <div class="container">
        <div class="content-wrapper">
            <h1 class="blue-text">6. What's Next?</h1>
            
            <p>Now that you've reached the end of this Strategy Kit, you're well on your way to becoming an effective coach.</p>
            
            <h2 class="orange-text">Congratulations!</h2>
            
            <p>We've outlined the key skills that you need to coach individuals, your team, and yourself. But it's important that you continue to practice what you've learned in the weeks and months to come. This is the only way for you to reach your full potential as a coach.</p>
            
            <p class="italic">Remember, the more coaching you do, the better you'll get!</p>
            
            <p>Coaching can be very fulfilling. Enjoy it!</p>
            
            <div class="signature-container">
                <div class="signature">
                    <p>Best wishes,</p>
                    <p>Mohamed Elmenisy</p>
                    <p>Learning And Development</p>
                </div>
                
                <div class="button-container">
                    <button type="button" class="button" id="backButton">← Back to Action Plan</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize users and userAnswers if they don't exist
        if (!localStorage.getItem('users')) {
            localStorage.setItem('users', JSON.stringify([]));
        }
        if (!localStorage.getItem('userAnswers')) {
            localStorage.setItem('userAnswers', JSON.stringify({}));
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication status
            checkAuthStatus();

            // Set up auth modal event listeners
            document.getElementById('authSwitchLink').addEventListener('click', function(e) {
                e.preventDefault();
                toggleAuthMode();
            });

            document.getElementById('authForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleAuthSubmit();
            });

            // Back button functionality
            document.getElementById('backButton').addEventListener('click', function() {
                window.location.href = 'coaching-action-plan.html';
            });

            // Show completion modal if this is the first visit to this page
            const visitedPages = JSON.parse(localStorage.getItem('visitedPages') || {};
            const userEmail = localStorage.getItem('userEmail');
            
            if (userEmail && !visitedPages['whats-next']) {
                document.getElementById('successModal').style.display = 'flex';
                visitedPages['whats-next'] = true;
                localStorage.setItem('visitedPages', JSON.stringify(visitedPages));
            }
        });

        function checkAuthStatus() {
            const userEmail = localStorage.getItem('userEmail');
            if (!userEmail) {
                showAuthModal();
                return;
            }

            // Display user email
            document.getElementById('displayUserEmail').textContent = userEmail;
        }

        function showAuthModal() {
            document.getElementById('authModal').style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        function hideAuthModal() {
            document.getElementById('authModal').style.display = 'none';
            document.body.style.overflow = '';
        }

        function toggleAuthMode() {
            const isLogin = document.getElementById('authTitle').textContent === 'Login';
            document.getElementById('authTitle').textContent = isLogin ? 'Sign Up' : 'Login';
            document.getElementById('authSubmit').textContent = isLogin ? 'Sign Up' : 'Login';
            document.getElementById('authSwitchText').textContent = isLogin ? 'Already have an account?' : 'Don\'t have an account?';
            document.getElementById('authSwitchLink').textContent = isLogin ? 'Login' : 'Sign up';
            document.getElementById('nameField').style.display = isLogin ? 'block' : 'none';
        }

        function handleAuthSubmit() {
            const isLogin = document.getElementById('authTitle').textContent === 'Login';
            const name = document.getElementById('authName').value;
            const email = document.getElementById('authEmail').value.trim();
            const password = document.getElementById('authPassword').value.trim();
            const errorElement = document.getElementById('authError');

            // Reset error
            errorElement.style.display = 'none';

            // Validate inputs
            if (!email || !password || (!isLogin && !name)) {
                errorElement.textContent = 'Please fill in all fields';
                errorElement.style.display = 'block';
                return;
            }

            if (isLogin) {
                // Login logic
                const users = JSON.parse(localStorage.getItem('users'));
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // Successful login
                    localStorage.setItem('userEmail', email);
                    hideAuthModal();
                    checkAuthStatus();
                    window.location.reload();
                } else {
                    errorElement.textContent = 'Invalid email or password';
                    errorElement.style.display = 'block';
                }
            } else {
                // Signup logic
                const users = JSON.parse(localStorage.getItem('users'));
                
                // Check if email already exists
                if (users.some(u => u.email === email)) {
                    errorElement.textContent = 'Email already registered';
                    errorElement.style.display = 'block';
                    return;
                }
                
                // Create new user
                const newUser = {
                    name,
                    email,
                    password,
                    createdAt: new Date().toISOString()
                };
                
                // Add to users array
                users.push(newUser);
                
                // Save to localStorage
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('userEmail', email);
                
                hideAuthModal();
                checkAuthStatus();
                window.location.reload();
            }
        }

        function closeModal() {
            document.getElementById('successModal').style.display = 'none';
        }

        function logout() {
            localStorage.removeItem('userEmail');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
