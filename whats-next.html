<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>What's Next? | Coaching & Leadership</title> <!-- Title Updated -->
    <!-- Favicon Links -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn-icons-png.flaticon.com/512/3281/3281289.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://cdn-icons-png.flaticon.com/512/3281/3281289.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://cdn-icons-png.flaticon.com/512/3281/3281289.png">
    <style>
        /* --- CSS Rules --- */
        /* Developed by: Mohamed Elmenisy */
        :root {
            --primary-color: #2c3e50; /* Dark Blue-Grey */
            --secondary-color: #e67e22; /* Orange */
            --accent-color: #3498db; /* Bright Blue */
            --success-color: #27ae60; /* Green */
            --light-bg: #f8fafc; /* Light Grey Background */
            --text-color: #34495e; /* Darker Text */
            --white: #ffffff;
            --grey-light: #ecf0f1;
            --grey-medium: #bdc3c7;
            --grey-dark: #7f8c8d;
            --shadow: 0 4px 15px rgba(0,0,0,0.08); /* Slightly softer shadow */
            --border-radius: 8px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.7; /* Increased line height for readability */
            color: var(--text-color);
            background-color: var(--light-bg);
            padding-top: 110px; /* Adjusted padding for user bar + nav tab */
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* --- User Bar Styles (Consistent) --- */
        .user-bar {
            background-color: #34495e;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--white);
            font-size: 14px;
            position: fixed; /* Make user bar fixed */
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1001; /* Higher z-index */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .user-info { display: flex; align-items: center; gap: 12px; }
        .user-info svg { opacity: 0.8; vertical-align: middle; }
        .user-details { display: flex; flex-direction: column; }
        .user-name { font-weight: 600; font-size: 14px; }
        .user-email { font-size: 12px; opacity: 0.8; }

        .logout-button {
            background-color: #e74c3c; color: var(--white); border: none; padding: 8px 15px;
            border-radius: 6px; cursor: pointer; font-weight: 500;
            transition: all 0.3s ease; display: flex; align-items: center;
            gap: 6px; font-size: 13px;
        }
        .logout-button:hover { background-color: #c0392b; transform: translateY(-1px); }
        .logout-button:active { transform: translateY(0); }

        /* --- Navigation Tabs (Consistent) --- */
        .nav-tab {
            background-color: var(--primary-color);
            padding: 12px 10px;
            position: fixed;
            top: 50px; /* Position below user bar */
            left: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            flex-wrap: wrap; /* Allow wrapping on smaller screens */
            gap: 8px;
            overflow-x: auto; /* Add horizontal scroll if needed */
             white-space: nowrap;
            -webkit-overflow-scrolling: touch;
             scrollbar-width: none; /* Hide scrollbar Firefox */
        }
        .nav-tab::-webkit-scrollbar { display: none; } /* Hide scrollbar Webkit */


        .nav-tab a {
            color: var(--white);
            text-decoration: none;
            padding: 8px 12px; /* Consistent padding */
            border-radius: 6px; /* Consistent radius */
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px; /* Consistent font size */
            white-space: nowrap;
            display: inline-block;
        }

        .nav-tab a:hover, .nav-tab a.active { /* Active state styling */
            background-color: var(--secondary-color); /* Orange highlight */
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .container {
            max-width: 850px; /* Slightly adjusted width */
            margin: 0 auto;
            padding: 30px 20px;
        }

        .content-wrapper {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: 45px 40px; /* Increased padding */
            box-shadow: var(--shadow);
            margin-bottom: 40px;
            border-top: 5px solid var(--secondary-color); /* Orange top border */
        }

        .page-title { /* Replaced blue-text */
            color: var(--primary-color); /* Dark Blue-Grey */
            font-size: 2.1rem;
            font-weight: 700;
            margin-bottom: 35px; /* Increased margin */
            text-align: center;
            line-height: 1.3;
        }

        .congrats-heading { /* Replaced orange-text */
            color: var(--success-color); /* Use Green for congratulations */
            font-size: 1.8rem;
            font-weight: 600;
            margin: 30px 0 25px 0; /* Adjusted margins */
            text-align: center;
        }

        p {
            margin-bottom: 1.5rem; /* Adjusted spacing */
            font-size: 1.1rem; /* Consistent size */
            line-height: 1.7;
            text-align: center;
            max-width: 650px; /* Adjusted max-width */
            margin-left: auto;
            margin-right: auto;
        }
         p.italic { /* Keep italic styling specific */
             font-style: italic;
             color: var(--grey-dark);
             margin-top: 25px; /* Add space before italic emphasis */
             margin-bottom: 25px;
         }

        .signature-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px; /* Adjusted spacing */
            padding-top: 30px; /* Add padding top */
            border-top: 1px dashed var(--grey-medium); /* Dashed separator */
        }

        .signature {
            text-align: center;
            margin-bottom: 30px; /* Adjusted spacing */
        }

        .signature p {
            margin: 5px 0; /* Reduced margin */
            font-size: 1.05rem; /* Adjusted size */
            color: var(--primary-color); /* Darker color for signature */
        }

        .signature p.author-name { /* Specific style for name */
            font-weight: 600;
            font-size: 1.15rem;
            color: var(--secondary-color); /* Orange name */
        }

        .signature p.author-title { /* Specific style for title */
             font-style: italic;
             color: var(--grey-dark);
             font-size: 1rem;
        }


        .button-container {
            display: flex;
            justify-content: center;
            margin-top: 10px; /* Reduced margin as it's after signature now */
            gap: 20px;
        }

        .button { /* Updated button styles for consistency */
            display: inline-block;
            background-color: var(--grey-dark); /* Grey back button */
            color: var(--white);
            padding: 12px 25px; /* Adjusted padding */
            border-radius: 6px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem; /* Adjusted size */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .button:hover {
            background-color: #555; /* Darker grey on hover */
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }

        @media (max-width: 768px) {
            body {
                padding-top: 110px; /* Fixed padding */
            }

            .nav-tab {
                 top: 50px; /* Ensure consistent positioning */
                 padding: 10px 5px;
            }

            .nav-tab a {
                padding: 7px 10px; /* Consistent padding */
                font-size: 13px; /* Consistent font size */
            }

            .container {
                padding: 20px 15px;
            }

            .content-wrapper {
                padding: 30px 20px;
            }

            .page-title {
                font-size: 1.8rem;
                margin-bottom: 25px;
            }

            .congrats-heading {
                font-size: 1.5rem;
                margin: 25px 0 20px 0;
            }

            p {
                font-size: 1rem; /* Adjust paragraph size */
            }

            .button-container {
                /* Keep flex-direction: row unless screen is very small */
                margin-top: 20px;
            }

            .button {
                padding: 11px 22px; /* Adjust button padding */
                font-size: 0.95rem;
            }

            .signature-container {
                margin-top: 40px;
                padding-top: 25px;
            }

            .signature {
                margin-bottom: 25px;
            }
        }

        @media (max-width: 480px) {
            body { padding-top: 100px; } /* Adjust if nav wraps */
            .nav-tab { top: 50px; } /* Adjust if user bar wraps */

            .nav-tab a {
                font-size: 12px;
                padding: 6px 8px;
            }

            .page-title {
                font-size: 1.6rem;
            }

            .congrats-heading {
                font-size: 1.4rem;
            }

            .content-wrapper {
                padding: 25px 15px;
            }

             .button-container {
                 flex-direction: column; /* Stack buttons on very small screens */
                 align-items: center;
                 gap: 15px;
             }
             .button {
                 width: 90%; /* Make button wider */
                 max-width: 300px;
             }

             .signature p { font-size: 0.95rem; }
             .signature p.author-name { font-size: 1.05rem; }
             .signature p.author-title { font-size: 0.9rem; }
        }
    </style>
</head>
<body>
    <!-- User Info Bar -->
    <!-- Author: Mohamed Elmenisy - Added for consistency -->
    <div class="user-bar">
        <div class="user-info">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <div class="user-details">
                <span class="user-name" id="userName">Welcome back</span>
                <span class="user-email" id="userEmail">user@example.com</span>
            </div>
        </div>
        <button class="logout-button" onclick="logout()">
             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
            Logout
        </button>
    </div>

    <!-- Navigation Tabs -->
    <!-- Author: Mohamed Elmenisy - Updated for consistency -->
    <nav class="nav-tab">
        <a href="index.html">Home</a>
        <a href="article1.html">Introduction</a> <!-- Updated Label -->
        <a href="coaching-skills.html">Coaching Skills</a>
        <a href="coaching-individuals.html">Coaching Individuals</a>
        <a href="coaching-team.html">Team Coaching</a>
        <a href="coaching-yourself.html">Self Coaching</a>
        <a href="action-plan.html">Action Plan</a> <!-- Updated name to match file -->
        <a href="whats-next.html" class="active">What's Next?</a> <!-- Added link for this page -->
    </nav>

    <div class="container">
        <!-- Content Wrapper -->
        <!-- Developed by: Mohamed Elmenisy -->
        <div class="content-wrapper">
            <h1 class="page-title">What's Next?</h1> <!-- Updated Class -->

            <p>Having completed the Coaching & Leadership Strategy Kit, you've built a solid foundation for becoming a more effective and impactful coach.</p>

            <h2 class="congrats-heading">Congratulations on Your Commitment!</h2> <!-- Updated Class -->

            <p>We've explored the essential skills for coaching individuals, teams, and importantly, yourself. The key now is consistent practice. Apply what you've learned in your daily interactions, team meetings, and dedicated coaching sessions.</p>

            <p class="italic">Remember, consistent application is the bridge between learning and mastery.</p>

            <p>Coaching is a rewarding journey of growth, both for those you coach and for yourself. Embrace the process!</p>

             <!-- Signature Section -->
             <!-- Author: Mohamed Elmenisy -->
            <div class="signature-container">
                <div class="signature">
                    <p>Best wishes on your coaching journey,</p>
                    <p class="author-name">Mohamed Elmenisy</p> <!-- Class for styling -->
                    <p class="author-title">Learning And Development</p> <!-- Class for styling -->
                </div>

                <div class="button-container">
                    <!-- Use <a> for navigation -->
                    <a href="action-plan.html" class="button" id="backButton">← Back to Action Plan</a>
                    <!-- Optional: Link back to Home -->
                    <!-- <a href="index.html" class="button">Back to Course Home</a> -->
                </div>
            </div>
            <!-- End Signature Section -->
        </div>
        <!-- End Content Wrapper -->
    </div>

    <!-- JavaScript Section -->
    <!-- Author: Mohamed Elmenisy -->
    <script>
        /*
         * What's Next Page Script
         * Author: Mohamed Elmenisy
         * Handles user authentication check, info display, and logout.
         */
        const currentUserKey = 'currentUser'; // Consistent key

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            // 1. Basic Login Check
            if (localStorage.getItem('loggedIn') !== 'true') {
                console.log("Not logged in, redirecting...");
                window.location.href = `login.html?redirect=${encodeURIComponent(window.location.pathname)}`;
                return;
            }

            // 2. Get User Data
            const currentUser = getCurrentUser();

            // 3. Display User Info (Handles defaults internally)
            displayUserInfo();

            // 4. Validate User Session (Optional but good practice)
            if (!currentUser || !currentUser.email) {
                console.error("User session invalid or email missing after login check. Logging out...");
                alert('Your session data seems invalid. Please log in again.');
                logout();
                return;
            }

            console.log("User is valid:", currentUser.email, "- What's Next page loaded.");

            // Back button functionality (already handled by <a> tag, but kept for potential future JS needs)
            // const backButton = document.getElementById('backButton');
            // if(backButton) {
            //     backButton.addEventListener('click', function(e) {
            //         e.preventDefault(); // Prevent default if it were a button type="button"
            //         window.location.href = 'action-plan.html'; // Ensure correct file name
            //     });
            // }

            // Smooth scrolling (if any # links are added later)
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetElement = document.querySelector(this.getAttribute('href'));
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

             // Highlight active nav link
             highlightActiveNav();

        }); // End DOMContentLoaded

        // --- User Info & Authentication Functions ---
        // Author: Mohamed Elmenisy - Consistent Functions

        function getCurrentUser() {
            try {
                const data = localStorage.getItem(currentUserKey);
                if (data) {
                    const parsedData = JSON.parse(data);
                    if (parsedData && typeof parsedData === 'object' && parsedData.email) {
                        return parsedData;
                    } else {
                        console.warn("currentUser data invalid.", parsedData);
                        localStorage.removeItem(currentUserKey);
                        localStorage.removeItem('loggedIn');
                        return null;
                    }
                }
                return null;
            } catch (e) {
                console.error("Error parsing currentUser data:", e);
                localStorage.removeItem(currentUserKey);
                localStorage.removeItem('loggedIn');
                return null;
            }
        }

        function displayUserInfo() {
            const userNameElement = document.getElementById('userName');
            const userEmailElement = document.getElementById('userEmail');
            let userName = 'User';
            let userEmail = 'user@example.com';
            try {
                const userDataString = localStorage.getItem(currentUserKey);
                if (userDataString) {
                    const userData = JSON.parse(userDataString);
                    if (userData && typeof userData === 'object') {
                        userName = userData.name || userName;
                        userEmail = userData.email || userEmail;
                    }
                }
            } catch (error) {
                console.error("Error displaying user info:", error);
            }
            if (userNameElement) userNameElement.textContent = `Welcome, ${userName}`;
            if (userEmailElement) userEmailElement.textContent = userEmail;
        }

        // Global logout function for the button
        function logout() {
            console.log("Logging out...");
            localStorage.removeItem('loggedIn');
            localStorage.removeItem(currentUserKey);
            // No page-specific data to clear here generally
            window.location.href = 'login.html';
        }

         function highlightActiveNav() {
             const currentPath = window.location.pathname.split('/').pop() || 'index.html';
             document.querySelectorAll('.nav-tab a').forEach(link => {
                 const linkPath = (link.getAttribute('href') || '').split('/').pop();
                 // Use includes for flexibility or exact match depending on structure
                 link.classList.toggle('active', linkPath === currentPath);
             });
         }

    </script>
</body>
</html>
